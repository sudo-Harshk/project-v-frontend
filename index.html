<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project-V</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Rubik+Glitch&display=swap" as="style" onload="this.rel='stylesheet'">
  <link rel="icon" href="./assets/fav-icon.ico" type="image/x-icon"> 
</head>
<body id="top">
  <nav>
    <div class="navbar-container">
      <h1 class="project-name"><a href="#top">Project-V</a></h1>
      <ul class="nav-links">
        <li><a href="#job-listings">Jobs</a></li>
        <li><a href="#video-search">Videos</a></li>
      </ul>
      <div class="menu-icon" onclick="toggleNav()">☰</div>
    </div>
  </nav>
  
  <!-- Hero-img -->
  <div class="hero-img">
    <img src="./assets/hero-img-upscaled.jpeg" />
  </div>

  <h1 id="job-listings">One Click Away from Your <span class="underline">Next Big Break!</span></h1>

  <!-- Job Listings Section -->
  <div class="state-container">
    <div class="state-column">
      <ul class="state-list"></ul>
    </div>
    <div class="state-column">
      <ul class="state-list"></ul>
    </div>
    <div class="state-column">
      <ul class="state-list"></ul>
    </div>
    <div class="state-column">
      <ul class="state-list"></ul>
    </div>
    <div class="state-column">
      <ul class="state-list"></ul>
    </div>
  </div>

  <div class="latest-jobs-header">
    <p>For the most recent updates, please cross-check on 
      <a href="https://sarkariwallahjob.com/category/new-job/" target="_blank">Latest Jobs</a>
    </p>
  </div>

  <div class="job-categories">
    <div class="category" id="latest-jobs">
      <div class="category-header">
        <h2>Latest Jobs</h2>
      </div>
      <ul class="job-list"></ul>
    </div>
    
    <div class="category" id="central-jobs">
      <div class="category-header">
        <h2>Central Jobs</h2>
        <a href="https://sarkariwallahjob.com/category/central-job/" target="_blank" class="view-all-btn">View All Central Jobs</a>
      </div>
      <ul class="job-list"></ul>
    </div>
    
    <div class="category" id="bank-jobs">
      <div class="category-header">
        <h2>Bank Jobs</h2>
        <a href="https://sarkariwallahjob.com/category/bank-job/" target="_blank" class="view-all-btn">View All Bank Jobs</a>
      </div>
      <ul class="job-list"></ul>
    </div>

    <!-- New Section for 10th Pass Govt Jobs -->
    <div class="category" id="tenth-pass-jobs">
      <div class="category-header">
        <h2>10th Pass Govt Jobs</h2>
        <a href="https://allgovernmentjobs.in/10th-pass-govt-jobs" target="_blank" class="view-all-btn">View All 10th Pass Govt Jobs</a>
      </div>
      <ul class="job-list" id="tenth-pass-job-list"></ul>
    </div>
  </div>

  <h1 id="video-search">Study Blueprint</h1>
  <div class="controls-container">
    <div class="main-controls">
      <div class="controls">
        <select id="examSelect">
          <option value="">Select an Exam</option>
          <option value="UPSC">UPSC - Civil Services</option>
          <option value="SSC CGL">SSC CGL</option>
          <option value="IBPS">IBPS - Banking</option>
          <option value="RRB">RRB - Railways</option>
        </select>
        
        <div class="checkboxes">
          <input type="checkbox" id="englishLang" checked>
          <label for="englishLang">English</label>
          <input type="checkbox" id="teluguLang">
          <label for="teluguLang">Telugu</label>
        </div>
      </div>
      
      <div class="controls">
        <label class="switch">
          <input type="checkbox" id="examPreparation">
          <span class="slider round"></span>
        </label> Exam Preparation

        <label class="switch">
          <input type="checkbox" id="crashCourse">
          <span class="slider round"></span>
        </label> Crash Course

        <label class="switch">
          <input type="checkbox" id="strategy">
          <span class="slider round"></span>
        </label> Strategy
      </div>
    </div>
    <button onclick="fetchVideos()">Fetch Videos</button>
  </div>

  <ul id="results" style="list-style: none; padding: 0;"></ul>

  <!-- Include YouTube API and the main script for fetching videos and job listings -->
  <script src="https://apis.google.com/js/api.js"></script>
  <script src="script.js"></script>
  <script>
    function toggleNav() {
      const navLinks = document.querySelector('.nav-links');
      const menuIcon = document.querySelector('.menu-icon');
      
      navLinks.classList.toggle('active');
      
      if (navLinks.classList.contains('active')) {
        menuIcon.textContent = '✖'; 
      } else {
        menuIcon.textContent = '☰'; 
      }
    }

    async function fetchJobs() {
      try {
        const response = await fetch('http://localhost:3000/api/jobs'); // Adjust the URL if necessary
        const jobs = await response.json();

        const tenthPassJobList = document.getElementById('tenth-pass-job-list');

        jobs.forEach(job => {
          if (job.category === '10th Pass Govt Jobs') {
            const li = document.createElement('li');
            li.innerHTML = `<a href="${job.link}" target="_blank">${job.title}</a> - ${job.date ? job.date.toLocaleDateString() : 'Date not available'}`;
            tenthPassJobList.appendChild(li);
          }
        });
      } catch (error) {
        console.error('Error fetching jobs:', error);
      }
    }

    document.addEventListener('DOMContentLoaded', fetchJobs);
  </script>
</body>
</html>